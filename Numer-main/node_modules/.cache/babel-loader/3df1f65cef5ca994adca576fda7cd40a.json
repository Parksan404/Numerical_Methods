{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karwi\\\\OneDrive\\\\\\u0E40\\u0E14\\u0E2A\\u0E01\\u0E4C\\u0E17\\u0E47\\u0E2D\\u0E1B\\\\numer\\\\Numer-main\\\\src\\\\Root of Equation\\\\Newton_raphson.js\";\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Card, Input, Button, Table } from 'antd';\nimport Desmos from 'desmos';\nimport { addStyles, EditableMathField } from 'react-mathquill';\nimport { log, string } from 'mathjs';\nimport { compile, derivative } from \"mathjs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AlgebraLatex = require('algebra-latex');\n\nconst math = require('mathjs');\n\naddStyles();\nvar dataInTable = [];\nconst columns = [{\n  title: 'Iteration',\n  dataIndex: 'iteration',\n  key: 'iteration'\n}, {\n  title: 'X',\n  dataIndex: 'x',\n  key: 'x'\n}, {\n  title: 'Error',\n  key: 'error',\n  dataIndex: 'error'\n}];\nexport default class Test extends Component {\n  constructor(props) {\n    super(props);\n    this.bi = this.bi.bind(this);\n    this.fn = this.fn.bind(this);\n    this.Ex = this.Ex.bind(this);\n    this.func = this.func.bind(this);\n    this.funcDiff = this.funcDiff.bind(this);\n    this.state = {\n      ans: [],\n      Funtion: '',\n      X0: null\n    };\n    this.elt = {};\n    this.calculator = {};\n  } //API\n\n\n  async Ex() {\n    const url = 'http://localhost:8000/data/Nr';\n    const response = await fetch(url);\n    console.log(response);\n    const data = await response.json();\n    console.log(data);\n    this.setState({\n      Funtion: data.fx,\n      X0: data.x0\n    });\n    console.log(this.state.X0);\n  }\n\n  componentDidMount() {\n    this.elt = document.getElementById('calculator');\n    this.calculator = Desmos.GraphingCalculator(this.elt, {\n      expressions: false,\n      backgroundColor: '#F4F6F7',\n      textColor: '#C70039'\n    });\n    this.calculator.setExpression({\n      id: 'graph1',\n      latex: this.state.Funtion\n    });\n    document.getElementsByClassName('dcg-graphpaper-branding')[0].style.display = 'none';\n  }\n\n  componentDidUpdate() {\n    this.calculator.destroy();\n    this.elt = document.getElementById('calculator');\n    this.calculator = Desmos.GraphingCalculator(this.elt, {\n      expressions: false,\n      backgroundColor: '#F4F6F7',\n      textColor: '#C70039'\n    });\n    this.calculator.setExpression({\n      id: 'graph1',\n      latex: this.state.Funtion\n    });\n    document.getElementsByClassName('dcg-graphpaper-branding')[0].style.display = 'none';\n  }\n\n  fn(x) {\n    return math.evaluate(this.state.Funtion, {\n      x: x\n    });\n  }\n\n  error(xnew, xold) {\n    return Math.abs((xnew - xold) / xnew);\n  }\n\n  func(Funtion, x) {\n    return math.evaluate(Funtion, {\n      x: x\n    });\n  }\n\n  funcDiff(fx, X) {\n    var expr = math.derivative(fx, 'x');\n    let scope = {\n      x: parseFloat(X)\n    };\n    return expr.evaluate(scope);\n  }\n\n  bi() {\n    var error = this.error;\n    var xnew = 0;\n    var epsilon = parseFloat(0.0);\n    var n = 0;\n    var xold = Number(this.state.X0);\n    var data = [];\n    data['x'] = [];\n    data['error'] = [];\n\n    do {\n      xnew = xold - this.func(this.state.Funtion, xold) / this.funcDiff(this.state.Funtion, xold);\n      epsilon = error(xnew, xold);\n      data['x'][n] = xnew.toFixed(8);\n      data['error'][n] = Math.abs(epsilon).toFixed(8);\n      n++;\n      xold = xnew;\n\n      if (n >= 1000) {\n        break;\n      }\n    } while (Math.abs(epsilon) > 0.000001);\n\n    this.createTable(data['x'], data['error']);\n  }\n\n  createTable(x, error) {\n    dataInTable = [];\n\n    for (var i = 0; i < x.length; i++) {\n      dataInTable.push({\n        iteration: i + 1,\n        x: x[i],\n        error: error[i]\n      });\n    }\n\n    this.forceUpdate();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Newton raphson\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Funtion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => {\n                this.setState({\n                  Funtion: e.target.value\n                });\n                this.forceUpdate();\n              },\n              value: this.state.Funtion,\n              name: \"Funtion\",\n              placeholder: \"Funtion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onChange: e => {\n                this.setState({\n                  X0: e.target.value\n                });\n                this.forceUpdate();\n              },\n              value: this.state.X0,\n              name: \"X0\",\n              placeholder: \"X0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.bi,\n              type: \"primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                marginLeft: '73%',\n                backgroundColor: '#d580ff',\n                borderColor: '#76D7C4'\n              },\n              onClick: this.Ex,\n              type: \"primary\",\n              children: \"Example\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"calculator\",\n            style: {\n              width: '600px',\n              height: '400px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        title: 'Output',\n        bordered: true,\n        style: {\n          width: '100%',\n          background: '#2196f3',\n          color: '#FFFFFFFF'\n        },\n        id: \"outputCard\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          pagination: {\n            defaultPageSize: 5\n          },\n          columns: columns,\n          dataSource: dataInTable,\n          bodyStyle: {\n            fontWeight: 'bold',\n            fontSize: '18px',\n            color: 'black'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/karwi/OneDrive/เดสก์ท็อป/numer/Numer-main/src/Root of Equation/Newton_raphson.js"],"names":["React","Component","Card","Input","Button","Table","Desmos","addStyles","EditableMathField","log","string","compile","derivative","AlgebraLatex","require","math","dataInTable","columns","title","dataIndex","key","Test","constructor","props","bi","bind","fn","Ex","func","funcDiff","state","ans","Funtion","X0","elt","calculator","url","response","fetch","console","data","json","setState","fx","x0","componentDidMount","document","getElementById","GraphingCalculator","expressions","backgroundColor","textColor","setExpression","id","latex","getElementsByClassName","style","display","componentDidUpdate","destroy","x","evaluate","error","xnew","xold","Math","abs","X","expr","scope","parseFloat","epsilon","n","Number","toFixed","createTable","i","length","push","iteration","forceUpdate","render","e","target","value","marginLeft","borderColor","width","height","background","color","defaultPageSize","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'antd/dist/antd.css'\nimport { Card, Input, Button, Table } from 'antd'\nimport Desmos from 'desmos'\nimport { addStyles, EditableMathField } from 'react-mathquill'\nimport { log, string } from 'mathjs'\nimport { compile, derivative } from \"mathjs\";\nconst AlgebraLatex = require('algebra-latex')\nconst math = require('mathjs')\n\naddStyles()\n\nvar dataInTable = []\nconst columns = [\n    {\n        title: 'Iteration',\n        dataIndex: 'iteration',\n        key: 'iteration',\n    },\n    {\n        title: 'X',\n        dataIndex: 'x',\n        key: 'x',\n    },\n    {\n        title: 'Error',\n        key: 'error',\n        dataIndex: 'error',\n    },\n]\n\nexport default class Test extends Component {\n    constructor(props) {\n        super(props)\n        this.bi = this.bi.bind(this)\n        this.fn = this.fn.bind(this)\n        this.Ex = this.Ex.bind(this)\n        this.func = this.func.bind(this)\n        this.funcDiff = this.funcDiff.bind(this)\n        this.state = { ans: [], Funtion: '', X0: null }\n        this.elt = {}\n        this.calculator = {}\n    }\n\n    //API\n    async Ex() {\n        const url = 'http://localhost:8000/data/Nr'\n        const response = await fetch(url)\n        console.log(response)\n        const data = await response.json()\n        console.log(data)\n        this.setState({\n            Funtion: data.fx,\n            X0: data.x0,\n        })\n        console.log(this.state.X0)\n    }\n\n    componentDidMount() {\n        this.elt = document.getElementById('calculator')\n        this.calculator = Desmos.GraphingCalculator(this.elt, {\n            expressions: false,\n            backgroundColor: '#F4F6F7',\n            textColor: '#C70039',\n        })\n        this.calculator.setExpression({\n            id: 'graph1',\n            latex: this.state.Funtion,\n        })\n        document.getElementsByClassName(\n            'dcg-graphpaper-branding'\n        )[0].style.display = 'none'\n    }\n    componentDidUpdate() {\n        this.calculator.destroy()\n        this.elt = document.getElementById('calculator')\n        this.calculator = Desmos.GraphingCalculator(this.elt, {\n            expressions: false,\n            backgroundColor: '#F4F6F7',\n            textColor: '#C70039',\n        })\n        this.calculator.setExpression({\n            id: 'graph1',\n            latex: this.state.Funtion,\n        })\n        document.getElementsByClassName(\n            'dcg-graphpaper-branding'\n        )[0].style.display = 'none'\n    }\n\n    fn(x) {\n        return math.evaluate(this.state.Funtion, { x: x })\n    }\n\n    error(xnew, xold) {\n        return Math.abs((xnew - xold) / xnew)\n    }\n    func(Funtion, x) {\n        return math.evaluate(Funtion, { x: x })\n    }\n\n    funcDiff(fx, X) {\n        var expr = math.derivative(fx, 'x')\n        let scope = { x: parseFloat(X) }\n        return expr.evaluate(scope)\n    }\n\n    bi() {\n        var error = this.error\n        var xnew = 0\n        var epsilon = parseFloat(0.0)\n        var n = 0\n        var xold = Number(this.state.X0)\n        var data = []\n        data['x'] = []\n        data['error'] = []\n\n        do {\n            xnew =\n                xold -\n                this.func(this.state.Funtion, xold) /\n                this.funcDiff(this.state.Funtion, xold)\n            epsilon = error(xnew, xold)\n            data['x'][n] = xnew.toFixed(8)\n            data['error'][n] = Math.abs(epsilon).toFixed(8)\n            n++\n            xold = xnew\n            if (n >= 1000) {\n                break\n            }\n        } while (Math.abs(epsilon) > 0.000001)\n\n        this.createTable(data['x'], data['error'])\n    }\n\n    createTable(x, error) {\n        dataInTable = []\n        for (var i = 0; i < x.length; i++) {\n            dataInTable.push({\n                iteration: i + 1,\n                x: x[i],\n                error: error[i],\n            })\n        }\n        this.forceUpdate()\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>Newton raphson</h1>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <div>\n                            <p>Funtion</p>\n                            <Input\n                                onChange={(e) => {\n                                    this.setState({ Funtion: e.target.value })\n                                    this.forceUpdate()\n                                }}\n                                value={this.state.Funtion}\n                                name=\"Funtion\"\n                                placeholder=\"Funtion\"\n                            />\n                            <br></br>\n                            <br></br>\n                            <Input\n                                onChange={(e) => {\n                                    this.setState({ X0: e.target.value })\n                                    this.forceUpdate()\n                                }}\n                                value={this.state.X0}\n                                name=\"X0\"\n                                placeholder=\"X0\"\n                            />\n                            <br></br>\n                            <br></br>\n                            <Button onClick={this.bi} type=\"primary\">\n                                Submit\n                            </Button>\n                            <Button\n                                style={{\n                                    marginLeft: '73%',\n                                    backgroundColor: '#d580ff',\n                                    borderColor: '#76D7C4',\n                                }}\n                                onClick={this.Ex}\n                                type=\"primary\"\n                            >\n                                Example\n                            </Button>\n                        </div>\n                        <br></br>\n                    </div>\n                    <div className=\"col\">\n                        <div\n                            id=\"calculator\"\n                            style={{\n                                width: '600px',\n                                height: '400px',\n                            }}\n                        ></div>\n                    </div>\n                </div>\n                <br></br>\n                <br></br>\n                {/* {this.state.ans.map((data, i) => {\n          return (\n            <p>\n              Iteration No.{i + 1} Root of equation is {data}\n            </p>\n          );\n        })} */}\n                <Card\n                    title={'Output'}\n                    bordered={true}\n                    style={{\n                        width: '100%',\n                        background: '#2196f3',\n                        color: '#FFFFFFFF',\n                    }}\n                    id=\"outputCard\"\n                >\n                    <Table\n                        pagination={{ defaultPageSize: 5 }}\n                        columns={columns}\n                        dataSource={dataInTable}\n                        bodyStyle={{\n                            fontWeight: 'bold',\n                            fontSize: '18px',\n                            color: 'black',\n                        }}\n                    ></Table>\n                </Card>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}