{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karwi\\\\OneDrive\\\\\\u0E40\\u0E14\\u0E2A\\u0E01\\u0E4C\\u0E17\\u0E47\\u0E2D\\u0E1B\\\\numer\\\\Numer-main\\\\src\\\\Regression\\\\MultipleLinear.js\";\nimport React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Card, Input, Button, Table } from 'antd';\nimport Desmos from 'desmos';\nimport { addStyles, EditableMathField } from 'react-mathquill';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst {\n  regression\n} = require('multiregress');\n\nconst AlgebraLatex = require('algebra-latex');\n\nconst math = require('mathjs');\n\naddStyles();\nvar dataInTable = [];\nvar columns2 = [{\n  title: 'Ans',\n  dataIndex: 'Ans',\n  key: 'Ans'\n}];\nvar columns1 = [{\n  title: 'No.',\n  dataIndex: 'no',\n  key: 'no'\n}, {\n  title: 'X',\n  dataIndex: 'x',\n  key: 'x'\n}, {\n  title: 'Y',\n  dataIndex: 'y',\n  key: 'y'\n}];\nvar x = [],\n    y = [],\n    tableTag = [],\n    answer,\n    matrixX = [];\nexport default class Test extends Component {\n  constructor(props) {\n    super(props);\n    this.bi = this.bi.bind(this);\n    this.Ex = this.Ex.bind(this);\n    this.state = {\n      nPoints: null,\n      X: null,\n      ans: [],\n      showTableInput: false,\n      showTableInpu2: false\n    };\n    this.elt = {};\n    this.calculator = {};\n  } //API\n\n\n  async Ex() {\n    // const url = \"https://api.randomuser.me/\";\n    const url = 'http://localhost:8000/data/mlr'; // const url = \"http://localhost:8000/Newton\";\n    // const url = \"http://127.0.0.1/Json/item.json\";\n\n    const response = await fetch(url);\n    console.log(response);\n    const data = await response.json();\n    console.log('data', data);\n    this.setState({\n      nPoints: data.col,\n      X: data.row\n    });\n    console.log('nPoints', this.state.nPoints);\n    this.createTableInput(parseInt(this.state.nPoints));\n\n    for (var i = 0; i < this.state.nPoints; i++) {\n      for (var j = 0; j < this.state.X; j++) {\n        document.getElementById('x' + (i + 1) + '' + (j + 1)).value = data.X[i][j];\n      }\n\n      document.getElementById('y' + (i + 1)).value = data.Y[i];\n    }\n\n    for (var i = 0; i < this.state.X; i++) {\n      console.log(data.Xi[i]);\n      document.getElementById('xi' + (i + 1)).value = data.Xi[i];\n    }\n\n    this.forceUpdate();\n  }\n\n  componentDidMount() {//ทำอัตโนมัติหลังจาก render เสร็จ\n  }\n\n  componentDidUpdate() {}\n\n  initialValue() {\n    var X = this.state.X;\n    var n = this.state.nPoints;\n    x = [];\n    y = [];\n\n    for (var i = 0; i < n; i++) {\n      x[i] = [];\n\n      for (var j = 0; j < X; j++) {\n        x[i][j] = parseInt(document.getElementById('x' + (i + 1) + '' + (j + 1)).value);\n      }\n    }\n\n    for (i = 0; i < n; i++) {\n      y[i] = parseFloat(document.getElementById('y' + (i + 1)).value);\n    }\n\n    console.log('x', x);\n    console.log('y', y);\n  }\n\n  cal(nPoints) {\n    console.log('x', x);\n    console.log('y', y);\n    console.log('nPoints', nPoints);\n\n    if (x.length !== 0 && y.length !== 0) {\n      var arr = [];\n      var xi = [];\n\n      for (let i = 1; i <= this.state.X; i++) {\n        console.log(i, parseFloat(document.getElementById('xi' + i).value));\n        xi[i - 1] = parseFloat(document.getElementById('xi' + i).value);\n      }\n\n      console.log('xi', xi);\n\n      for (let i = 0; i < this.state.nPoints; i++) {\n        var temp = [];\n\n        for (let j = 0; j < this.state.X; j++) {\n          temp.push(x[i][j]);\n        }\n\n        temp.push(y[i]);\n        arr.push(temp);\n      }\n\n      console.log(arr);\n      console.log(regression(arr));\n      arr = regression(arr);\n      let sum = arr[0];\n\n      for (let i = 1; i < arr.length; i++) {\n        sum += xi[i - 1] * arr[i];\n      }\n\n      console.log(sum);\n      answer = sum;\n    }\n  }\n\n  bi() {\n    dataInTable = [];\n    this.initialValue();\n    this.cal(this.state.nPoints);\n    console.log('answer', answer);\n    dataInTable.push({\n      Ans: answer\n    });\n    this.forceUpdate();\n    console.log('end');\n  }\n\n  createTableInput() {\n    x = [];\n    y = [];\n    tableTag = [];\n    matrixX = [];\n    var n = this.state.nPoints;\n    var X = this.state.X;\n    console.log('n', n);\n    console.log('X', X); // if (this.state.nPoints != null && this.state.X != null) {\n\n    for (var i = 1; i <= n; i++) {\n      x[i] = [];\n\n      for (var j = 1; j <= X; j++) {\n        x[i].push( /*#__PURE__*/_jsxDEV(Input, {\n          style: {\n            width: '70%',\n            height: '50%',\n            backgroundColor: 'black',\n            marginInlineEnd: '5%',\n            marginBlockEnd: '5%',\n            color: 'white',\n            fontSize: '18px',\n            fontWeight: 'bold',\n            justifyContent: 'center'\n          },\n          id: 'x' + i + '' + j,\n          placeholder: 'x' + i + '' + j\n        }, 'x' + i + '' + j, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this));\n      }\n\n      y.push( /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: '100%',\n          height: '50%',\n          backgroundColor: 'black',\n          marginInlineEnd: '5%',\n          marginBlockEnd: '5%',\n          color: 'white',\n          fontSize: '18px',\n          fontWeight: 'bold'\n        },\n        id: 'y' + i,\n        placeholder: 'y' + i\n      }, 'y' + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this));\n      tableTag.push({\n        no: i,\n        x: x[i],\n        y: y[i - 1]\n      });\n    }\n\n    for (var j = 1; j <= X; j++) {\n      matrixX.push( /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: '18%',\n          height: '50%',\n          backgroundColor: 'black',\n          marginInlineEnd: '5%',\n          marginBlockEnd: '5%',\n          color: 'white',\n          fontSize: '18px',\n          fontWeight: 'bold'\n        },\n        id: 'xi' + j,\n        placeholder: 'xi' + j\n      }, 'xi' + j, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this));\n    }\n\n    this.setState({\n      showTableInput: true\n    });\n    console.log(x, y, tableTag); // }\n\n    console.log('x', x);\n    console.log('y', y);\n    this.forceUpdate();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Multiple Linear Regression\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Number of points (n)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onChange: async e => {\n                await this.setState({\n                  nPoints: e.target.value\n                });\n                this.createTableInput();\n                this.forceUpdate();\n              },\n              value: this.state.nPoints,\n              name: \"nPoints\",\n              placeholder: \"Number of points (n)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Number of X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              onChange: async e => {\n                await this.setState({\n                  X: e.target.value\n                });\n                this.createTableInput();\n                this.forceUpdate();\n              },\n              value: this.state.X,\n              name: \"X\",\n              placeholder: \"Number of X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.bi,\n              type: \"primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                marginLeft: '73%',\n                backgroundColor: '#76D7C4',\n                borderColor: '#76D7C4'\n              },\n              onClick: this.Ex,\n              type: \"primary\",\n              children: \"Example\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: this.state.showTableInput && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              columns: columns1,\n              dataSource: tableTag,\n              pagination: false,\n              bordered: true,\n              bodyStyle: {\n                fontWeight: 'bold',\n                fontSize: '18px',\n                color: 'white',\n                overflowY: 'scroll',\n                minWidth: 120,\n                maxHeight: 300\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), this.state.showTableInput && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Input Matrix X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }, this), matrixX]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        title: 'Output',\n        bordered: true,\n        style: {\n          width: '100%',\n          background: '#2196f3',\n          color: '#FFFFFFFF'\n        },\n        id: \"outputCard\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          pagination: {\n            defaultPageSize: 5\n          },\n          columns: columns2,\n          dataSource: dataInTable,\n          pagination1: false,\n          bordered: true,\n          bodyStyle: {\n            fontWeight: 'bold',\n            fontSize: '18px',\n            color: 'black'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/karwi/OneDrive/เดสก์ท็อป/numer/Numer-main/src/Regression/MultipleLinear.js"],"names":["React","Component","Card","Input","Button","Table","Desmos","addStyles","EditableMathField","regression","require","AlgebraLatex","math","dataInTable","columns2","title","dataIndex","key","columns1","x","y","tableTag","answer","matrixX","Test","constructor","props","bi","bind","Ex","state","nPoints","X","ans","showTableInput","showTableInpu2","elt","calculator","url","response","fetch","console","log","data","json","setState","col","row","createTableInput","parseInt","i","j","document","getElementById","value","Y","Xi","forceUpdate","componentDidMount","componentDidUpdate","initialValue","n","parseFloat","cal","length","arr","xi","temp","push","sum","Ans","width","height","backgroundColor","marginInlineEnd","marginBlockEnd","color","fontSize","fontWeight","justifyContent","no","render","e","target","marginLeft","borderColor","overflowY","minWidth","maxHeight","background","defaultPageSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'antd/dist/antd.css'\nimport { Card, Input, Button, Table } from 'antd'\nimport Desmos from 'desmos'\nimport { addStyles, EditableMathField } from 'react-mathquill'\nconst { regression } = require('multiregress')\nconst AlgebraLatex = require('algebra-latex')\nconst math = require('mathjs')\n\naddStyles()\n\nvar dataInTable = []\nvar columns2 = [\n    {\n        title: 'Ans',\n        dataIndex: 'Ans',\n        key: 'Ans',\n    },\n]\n\nvar columns1 = [\n    {\n        title: 'No.',\n        dataIndex: 'no',\n        key: 'no',\n    },\n    {\n        title: 'X',\n        dataIndex: 'x',\n        key: 'x',\n    },\n    {\n        title: 'Y',\n        dataIndex: 'y',\n        key: 'y',\n    },\n]\nvar x = [],\n    y = [],\n    tableTag = [],\n    answer,\n    matrixX = []\n\nexport default class Test extends Component {\n    constructor(props) {\n        super(props)\n        this.bi = this.bi.bind(this)\n        this.Ex = this.Ex.bind(this)\n        this.state = {\n            nPoints: null,\n            X: null,\n            ans: [],\n            showTableInput: false,\n            showTableInpu2: false,\n        }\n        this.elt = {}\n        this.calculator = {}\n    }\n    //API\n    async Ex() {\n        // const url = \"https://api.randomuser.me/\";\n        const url = 'http://localhost:8000/data/mlr'\n        // const url = \"http://localhost:8000/Newton\";\n        // const url = \"http://127.0.0.1/Json/item.json\";\n        const response = await fetch(url)\n        console.log(response)\n        const data = await response.json()\n        console.log('data', data)\n        this.setState({\n            nPoints: data.col,\n            X: data.row,\n        })\n        console.log('nPoints', this.state.nPoints)\n        this.createTableInput(parseInt(this.state.nPoints))\n\n        for (var i = 0; i < this.state.nPoints; i++) {\n            for (var j = 0; j < this.state.X; j++) {\n                document.getElementById('x' + (i + 1) + '' + (j + 1)).value =\n                    data.X[i][j]\n            }\n            document.getElementById('y' + (i + 1)).value =\n                data.Y[i]\n        }\n\n        for (var i = 0; i < this.state.X; i++) {\n            console.log(data.Xi[i])\n            document.getElementById('xi' + (i + 1)).value =\n                data.Xi[i]\n        }\n\n        this.forceUpdate()\n    }\n\n    componentDidMount() {\n        //ทำอัตโนมัติหลังจาก render เสร็จ\n    }\n    componentDidUpdate() {}\n\n    initialValue() {\n        var X = this.state.X\n        var n = this.state.nPoints\n        x = []\n        y = []\n        for (var i = 0; i < n; i++) {\n            x[i] = []\n            for (var j = 0; j < X; j++) {\n                x[i][j] = parseInt(\n                    document.getElementById('x' + (i + 1) + '' + (j + 1)).value\n                )\n            }\n        }\n        for (i = 0; i < n; i++) {\n            y[i] = parseFloat(document.getElementById('y' + (i + 1)).value)\n        }\n        console.log('x', x)\n        console.log('y', y)\n    }\n\n    cal(nPoints) {\n        console.log('x', x)\n        console.log('y', y)\n        console.log('nPoints', nPoints)\n        if (x.length !== 0 && y.length !== 0) {\n            var arr = []\n            var xi = []\n            for (let i = 1; i <= this.state.X; i++) {\n                console.log(\n                    i,\n                    parseFloat(document.getElementById('xi' + i).value)\n                )\n                xi[i - 1] = parseFloat(document.getElementById('xi' + i).value)\n            }\n            console.log('xi', xi)\n            for (let i = 0; i < this.state.nPoints; i++) {\n                var temp = []\n                for (let j = 0; j < this.state.X; j++) {\n                    temp.push(x[i][j])\n                }\n                temp.push(y[i])\n                arr.push(temp)\n            }\n\n            console.log(arr)\n            console.log(regression(arr))\n            arr = regression(arr)\n            let sum = arr[0]\n            for (let i = 1; i < arr.length; i++) {\n                sum += xi[i - 1] * arr[i]\n            }\n            console.log(sum)\n            answer = sum\n        }\n    }\n\n    bi() {\n        dataInTable = []\n        this.initialValue()\n        this.cal(this.state.nPoints)\n        console.log('answer', answer)\n        dataInTable.push({\n            Ans: answer,\n        })\n        this.forceUpdate()\n        console.log('end')\n    }\n\n    createTableInput() {\n        x = []\n        y = []\n        tableTag = []\n        matrixX = []\n        var n = this.state.nPoints\n        var X = this.state.X\n        console.log('n', n)\n        console.log('X', X)\n        // if (this.state.nPoints != null && this.state.X != null) {\n        for (var i = 1; i <= n; i++) {\n            x[i] = []\n            for (var j = 1; j <= X; j++) {\n                x[i].push(\n                    <Input\n                        style={{\n                            width: '70%',\n                            height: '50%',\n                            backgroundColor: 'black',\n                            marginInlineEnd: '5%',\n                            marginBlockEnd: '5%',\n                            color: 'white',\n                            fontSize: '18px',\n                            fontWeight: 'bold',\n                            justifyContent: 'center',\n                        }}\n                        id={'x' + i + '' + j}\n                        key={'x' + i + '' + j}\n                        placeholder={'x' + i + '' + j}\n                    />\n                )\n            }\n            y.push(\n                <Input\n                    style={{\n                        width: '100%',\n                        height: '50%',\n                        backgroundColor: 'black',\n                        marginInlineEnd: '5%',\n                        marginBlockEnd: '5%',\n                        color: 'white',\n                        fontSize: '18px',\n                        fontWeight: 'bold',\n                    }}\n                    id={'y' + i}\n                    key={'y' + i}\n                    placeholder={'y' + i}\n                />\n            )\n            tableTag.push({\n                no: i,\n                x: x[i],\n                y: y[i - 1],\n            })\n        }\n        for (var j = 1; j <= X; j++) {\n            matrixX.push(\n                <Input\n                    style={{\n                        width: '18%',\n                        height: '50%',\n                        backgroundColor: 'black',\n                        marginInlineEnd: '5%',\n                        marginBlockEnd: '5%',\n                        color: 'white',\n                        fontSize: '18px',\n                        fontWeight: 'bold',\n                    }}\n                    id={'xi' + j}\n                    key={'xi' + j}\n                    placeholder={'xi' + j}\n                />\n            )\n        }\n        this.setState({\n            showTableInput: true,\n        })\n        console.log(x, y, tableTag)\n        // }\n        console.log('x', x)\n        console.log('y', y)\n        this.forceUpdate()\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>Multiple Linear Regression</h1>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <div>\n                            <p>Number of points (n)</p>\n                            <Input\n                                onChange={async (e) => {\n                                    await this.setState({\n                                        nPoints: e.target.value,\n                                    })\n                                    this.createTableInput()\n                                    this.forceUpdate()\n                                }}\n                                value={this.state.nPoints}\n                                name=\"nPoints\"\n                                placeholder=\"Number of points (n)\"\n                            />\n                            <p>Number of X</p>\n                            <Input\n                                onChange={async (e) => {\n                                    await this.setState({ X: e.target.value })\n                                    this.createTableInput()\n                                    this.forceUpdate()\n                                }}\n                                value={this.state.X}\n                                name=\"X\"\n                                placeholder=\"Number of X\"\n                            />\n                            <br></br>\n                            <br></br>\n                            <Button onClick={this.bi} type=\"primary\">\n                                Submit\n                            </Button>\n                            <Button\n                                style={{\n                                    marginLeft: '73%',\n                                    backgroundColor: '#76D7C4',\n                                    borderColor: '#76D7C4',\n                                }}\n                                onClick={this.Ex}\n                                type=\"primary\"\n                            >\n                                Example\n                            </Button>\n                        </div>\n                        <br></br>\n                    </div>\n                    <div className=\"col\">\n                        {this.state.showTableInput && (\n                            <div>\n                                <Table\n                                    columns={columns1}\n                                    dataSource={tableTag}\n                                    pagination={false}\n                                    bordered={true}\n                                    bodyStyle={{\n                                        fontWeight: 'bold',\n                                        fontSize: '18px',\n                                        color: 'white',\n                                        overflowY: 'scroll',\n                                        minWidth: 120,\n                                        maxHeight: 300,\n                                    }}\n                                ></Table>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                {this.state.showTableInput && (\n                    <div>\n                        <h2>Input Matrix X</h2>\n                        {matrixX}\n                    </div>\n                )}\n                <Card\n                    title={'Output'}\n                    bordered={true}\n                    style={{\n                        width: '100%',\n                        background: '#2196f3',\n                        color: '#FFFFFFFF',\n                    }}\n                    id=\"outputCard\"\n                >\n                    <Table\n                        pagination={{ defaultPageSize: 5 }}\n                        columns={columns2}\n                        dataSource={dataInTable}\n                        pagination1={false}\n                        bordered={true}\n                        bodyStyle={{\n                            fontWeight: 'bold',\n                            fontSize: '18px',\n                            color: 'black',\n                        }}\n                    ></Table>\n                </Card>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}